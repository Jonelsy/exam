{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/project/在线考试小程序/exam_phone/pages/exam/exam.vue?3899","webpack:///D:/project/在线考试小程序/exam_phone/pages/exam/exam.vue?4071","webpack:///D:/project/在线考试小程序/exam_phone/pages/exam/exam.vue?fafe","uni-app:///pages/exam/exam.vue","webpack:///D:/project/在线考试小程序/exam_phone/pages/exam/exam.vue?d9cf","webpack:///D:/project/在线考试小程序/exam_phone/pages/exam/exam.vue?1c5c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","onLoad","data","examId","currentIndex","showMenu","answers","questions","type","msgType","messageText","value","methods","dialogToggle","dialogConfirm","console","swiperChange","prevQuestion","nextQuestion","selectSingleAnswer","selectJudgeAnswer","toggleMultipleAnswer","toggleMenu","jumpToQuestion","getExamList","uni","url","method","header","success","acc","fail","title","icon","submitExam","submitTime","questionId","questionType","answerItem","index"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACqC;;;AAGxF;AACgM;AAChM,gBAAgB,uMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,gWAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAAkvB,CAAgB,gvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC0FtwB;EACAC;IACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MAEA;QACA;MACA;MAEA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACAC;QACAC;QACAC;QACAC;UACA;QACA;QACAC;UACA;UACA;UACA;YACAC;YACA;UACA;QACA;QACAC;UACAN;YACAO;YACAC;UACA;UACAlB;QACA;MACA;IACA;IAEA;IACA;IACAmB;MAAA;MACA;MACA;QACA/B;QACAgC;QACA7B;UACA;YACA8B;YACAC;UACA;;UAEA;UACA;YACA;cAAA;cACAC;cACA;YAEA;cAAA;cACAA;cACA;YAEA;cAAA;cACAA;cACAA;cACAA,6EACAC;cACA;YAEA;cAAA;cACAD;cACA;UAAA;UAGA;QACA;MACA;MAEAvB;;MAEA;MACAU;QACAC;QACAC;QACAC;UACA;UACA;QACA;QACA1B;QACA2B;UACA;QAAA,CACA;QACAE;UACA;QAAA;MAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrQA;AAAA;AAAA;AAAA;AAAulC,CAAgB,ijCAAG,EAAC,C;;;;;;;;;;;ACA3mC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/exam/exam.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/exam/exam.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./exam.vue?vue&type=template&id=68564066&scoped=true&\"\nvar renderjs\nimport script from \"./exam.vue?vue&type=script&lang=js&\"\nexport * from \"./exam.vue?vue&type=script&lang=js&\"\nimport style0 from \"./exam.vue?vue&type=style&index=0&id=68564066&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68564066\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/exam/exam.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam.vue?vue&type=template&id=68564066&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.questions.length\n  var l2 = _vm.__map(_vm.questions, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var l0 =\n      item.questionType === 0\n        ? _vm.__map(item.options, function (option, oIndex) {\n            var $orig = _vm.__get_orig(option)\n            var g1 = String.fromCharCode(65 + oIndex)\n            return {\n              $orig: $orig,\n              g1: g1,\n            }\n          })\n        : null\n    var l1 =\n      !(item.questionType === 0) && item.questionType === 1\n        ? _vm.__map(item.options, function (option, oIndex) {\n            var $orig = _vm.__get_orig(option)\n            var g2 =\n              _vm.answers[index] && _vm.answers[index].includes(option.optionId)\n            var g3 =\n              _vm.answers[index] && _vm.answers[index].includes(option.optionId)\n            var g4 = String.fromCharCode(65 + oIndex)\n            return {\n              $orig: $orig,\n              g2: g2,\n              g3: g3,\n              g4: g4,\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      l0: l0,\n      l1: l1,\n    }\n  })\n  var g5 = _vm.questions.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l2: l2,\n        g5: g5,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 顶部导航栏 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"progress\">{{currentIndex + 1}}/{{questions.length}}</view>\r\n\t\t\t<view class=\"menu-btn\" @click=\"toggleMenu\">\r\n\t\t\t\t<uni-icons type=\"list\" size=\"24\" color=\"#333\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 题目内容区域 -->\r\n\t\t<swiper class=\"swiper\" :current=\"currentIndex\" @change=\"swiperChange\" :duration=\"300\">\r\n\t\t\t<swiper-item v-for=\"(item, index) in questions\" :key=\"index\">\r\n\t\t\t\t<view class=\"question-container\">\r\n\t\t\t\t\t<view class=\"question-title\">{{item.content}}</view>\r\n\r\n\t\t\t\t\t<!-- 单选题 -->\r\n\t\t\t\t\t<block v-if=\"item.questionType === 0\">\r\n\t\t\t\t\t\t<view class=\"option\" v-for=\"(option, oIndex) in item.options\" :key=\"oIndex\"\r\n\t\t\t\t\t\t\t@click=\"selectSingleAnswer(index, oIndex)\"\r\n\t\t\t\t\t\t\t:class=\"{'selected': answers[index] === option.optionId}\">\r\n\t\t\t\t\t\t\t{{String.fromCharCode(65 + oIndex)}}. {{option.content}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<!-- 多选题 -->\r\n\t\t\t\t\t<block v-else-if=\"item.questionType === 1\">\r\n\t\t\t\t\t\t<view class=\"option multiple-option\" v-for=\"(option, oIndex) in item.options\" :key=\"oIndex\"\r\n\t\t\t\t\t\t\t@click=\"toggleMultipleAnswer(index, oIndex)\"\r\n\t\t\t\t\t\t\t:class=\"{'selected': answers[index] && answers[index].includes(option.optionId)}\">\r\n\t\t\t\t\t\t\t<view class=\"checkbox-icon\">\r\n\t\t\t\t\t\t\t\t{{answers[index] && answers[index].includes(option.optionId) ? '✓' : ''}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t{{String.fromCharCode(65 + oIndex)}}. {{option.content}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<!-- 判断题 -->\r\n\t\t\t\t\t<block v-else-if=\"item.questionType === 2\">\r\n\t\t\t\t\t\t<view class=\"judge-options\">\r\n\t\t\t\t\t\t\t<view class=\"option judge-option\" @click=\"selectJudgeAnswer(index, true)\"\r\n\t\t\t\t\t\t\t\t:class=\"{'selected': answers[index] === 1}\">\r\n\t\t\t\t\t\t\t\t正确\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"option judge-option\" @click=\"selectJudgeAnswer(index, false)\"\r\n\t\t\t\t\t\t\t\t:class=\"{'selected': answers[index] === 0}\">\r\n\t\t\t\t\t\t\t\t错误\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t\t<!-- 简答题 -->\r\n\t\t\t\t\t<block v-else-if=\"item.questionType === 3\">\r\n\t\t\t\t\t\t<textarea class=\"answer-textarea\" placeholder=\"请输入您的答案...\" v-model=\"answers[index]\"\r\n\t\t\t\t\t\t\tauto-height></textarea>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t\t<!-- 底部切换按钮 -->\r\n\t\t<view class=\"footer\">\r\n\t\t\t<view class=\"nav-btn prev\" @click=\"prevQuestion\" :class=\"{'disabled': currentIndex === 0}\">\r\n\t\t\t\t上一题\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"currentIndex < questions.length - 1\" class=\"nav-btn next\" @click=\"nextQuestion\">\r\n\t\t\t\t下一题\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-else class=\"nav-btn submit\" @click=\"dialogToggle('error')\">交卷</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"alertDialog\" type=\"dialog\">\r\n\t\t\t<uni-popup-dialog :type=\"msgType\" cancelText=\"关闭\" confirmText=\"确认交卷\" title=\"通知\" content=\"交卷后无法重新作答,请确认您的选择\"\r\n\t\t\t\t@confirm=\"dialogConfirm\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\t\t<!-- 题目目录侧边栏 -->\r\n\t\t<view class=\"menu-mask\" v-if=\"showMenu\" @click=\"toggleMenu\"></view>\r\n\t\t<view class=\"menu-sidebar\" :class=\"{'show': showMenu}\">\r\n\t\t\t<view class=\"menu-title\">题目列表</view>\r\n\t\t\t<scroll-view scroll-y class=\"menu-content\">\r\n\t\t\t\t<view class=\"menu-item\" v-for=\"(item, index) in questions\" :key=\"index\" @click=\"jumpToQuestion(index)\"\r\n\t\t\t\t\t:class=\"{'answered': answers[index] !== undefined && answers[index] !== null}\">\r\n\t\t\t\t\t{{index + 1}}\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tonLoad(options) {\r\n\t\t\tthis.examId = options.examId\r\n\t\t\tthis.getExamList()\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\texamId: 0,\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\tshowMenu: false,\r\n\t\t\t\tanswers: {}, // 存储 optionId 或 optionId 数组\r\n\t\t\t\tquestions: [], // 题目列表\r\n\t\t\t\ttype: 'center',\r\n\t\t\t\tmsgType: 'error',\r\n\t\t\t\tmessageText: '这是一条成功提示',\r\n\t\t\t\tvalue: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//弹出框\r\n\t\t\tdialogToggle(type) {\r\n\t\t\t\tthis.msgType = type\r\n\t\t\t\tthis.$refs.alertDialog.open()\r\n\t\t\t},\r\n\t\t\t//点击了确认交卷\r\n\t\t\tdialogConfirm() {\r\n\t\t\t\tconsole.log('点击确认')\r\n\t\t\t\tthis.submitExam();\r\n\t\t\t},\r\n\t\t\t// 切换题目\r\n\t\t\tswiperChange(e) {\r\n\t\t\t\tthis.currentIndex = e.detail.current\r\n\t\t\t},\r\n\r\n\t\t\t// 上一题\r\n\t\t\tprevQuestion() {\r\n\t\t\t\tif (this.currentIndex > 0) {\r\n\t\t\t\t\tthis.currentIndex--\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 下一题\r\n\t\t\tnextQuestion() {\r\n\t\t\t\tif (this.currentIndex < this.questions.length - 1) {\r\n\t\t\t\t\tthis.currentIndex++\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 单选题选择\r\n\t\t\tselectSingleAnswer(qIndex, oIndex) {\r\n\t\t\t\tconst optionId = this.questions[qIndex].options[oIndex].optionId;\r\n\t\t\t\tthis.$set(this.answers, qIndex, optionId);\r\n\t\t\t},\r\n\t\t\t// 判断题选择（1表示正确，0表示错误）\r\n\t\t\tselectJudgeAnswer(qIndex, isRight) {\r\n\t\t\t\t// 存储用户选择（1=正确，0=错误）\r\n\t\t\t\tthis.$set(this.answers, qIndex, isRight ? 1 : 0);\r\n\t\t\t},\r\n\t\t\t// 多选题选择/取消\r\n\t\t\ttoggleMultipleAnswer(qIndex, oIndex) {\r\n\t\t\t\tconst optionId = this.questions[qIndex].options[oIndex].optionId;\r\n\r\n\t\t\t\tif (!this.answers[qIndex]) {\r\n\t\t\t\t\tthis.$set(this.answers, qIndex, []);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst index = this.answers[qIndex].indexOf(optionId);\r\n\t\t\t\tif (index === -1) {\r\n\t\t\t\t\tthis.answers[qIndex].push(optionId);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.answers[qIndex].splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\r\n\t\t\t// 切换目录显示\r\n\t\t\ttoggleMenu() {\r\n\t\t\t\tthis.showMenu = !this.showMenu\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转到指定题目\r\n\t\t\tjumpToQuestion(index) {\r\n\t\t\t\tthis.currentIndex = index\r\n\t\t\t\tthis.showMenu = false\r\n\t\t\t},\r\n\r\n\t\t\t// 获取题目列表\r\n\t\t\tgetExamList() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `http://localhost:3000/exam/question/${this.examId}/1/100`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + uni.getStorageSync('token')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.questions = res.data.questions\r\n\t\t\t\t\t\t// 初始化答案对象\r\n\t\t\t\t\t\tthis.answers = this.questions.reduce((acc, _, index) => {\r\n\t\t\t\t\t\t\tacc[index] = null\r\n\t\t\t\t\t\t\treturn acc\r\n\t\t\t\t\t\t}, {})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取题目失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.error('获取题目失败:', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 提交试卷\r\n\t\t\t// 提交试卷\r\n\t\t\tsubmitExam() {\r\n\t\t\t\t// 1. 准备提交数据\r\n\t\t\t\tconst submitData = {\r\n\t\t\t\t\texamId: this.examId,\r\n\t\t\t\t\tsubmitTime: new Date().toISOString(),\r\n\t\t\t\t\tanswers: this.questions.map((question, index) => {\r\n\t\t\t\t\t\tconst answerItem = {\r\n\t\t\t\t\t\t\tquestionId: question.questionId,\r\n\t\t\t\t\t\t\tquestionType: question.questionType\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// 根据题型处理答案格式\r\n\t\t\t\t\t\tswitch (question.questionType) {\r\n\t\t\t\t\t\t\tcase 0: // 单选题\r\n\t\t\t\t\t\t\t\tanswerItem.optionId = this.answers[index] || null; // 存储选中的 optionId\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 1: // 多选题\r\n\t\t\t\t\t\t\t\tanswerItem.optionIds = this.answers[index] || []; // 存储选中的 optionId 数组\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 2: // 判断题\r\n\t\t\t\t\t\t\t\tanswerItem.optionId = question.options[0].optionId; // 判断题的optionId\r\n\t\t\t\t\t\t\t\tanswerItem.correctAnswer = question.options[0].isCorrect ? 1 : 0; // 正确答案\r\n\t\t\t\t\t\t\t\tanswerItem.userAnswer = this.answers[index] !== undefined ? this.answers[\r\n\t\t\t\t\t\t\t\t\tindex] : null; // 用户选择\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase 3: // 简答题\r\n\t\t\t\t\t\t\t\tanswerItem.answer = this.answers[index] || '';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn answerItem;\r\n\t\t\t\t\t})\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconsole.log('提交数据:', submitData);\r\n\r\n\t\t\t\t// 其余提交逻辑保持不变...\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'http://localhost:3000/exam/submit',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + uni.getStorageSync('token'),\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdata: submitData,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// 处理成功响应\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t// 处理失败\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tposition: relative;\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.header {\r\n\t\theight: 60px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 20px;\r\n\t\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.progress {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.menu-btn {\r\n\t\tpadding: 8px;\r\n\t}\r\n\r\n\t.swiper {\r\n\t\tflex: 1;\r\n\t\theight: calc(100vh - 120px);\r\n\t}\r\n\r\n\t.question-container {\r\n\t\tpadding: 20px;\r\n\t}\r\n\r\n\t.question-title {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 20px;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\r\n\t.option {\r\n\t\tpadding: 12px 15px;\r\n\t\tmargin-bottom: 15px;\r\n\t\tborder: 1px solid #eee;\r\n\t\tborder-radius: 8px;\r\n\t\tbackground-color: #f9f9f9;\r\n\t}\r\n\r\n\t.option.selected {\r\n\t\tbackground-color: #e6f7ff;\r\n\t\tborder-color: #1890ff;\r\n\t\tcolor: #1890ff;\r\n\t}\r\n\r\n\t/* 多选题样式 */\r\n\t.multiple-option {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.checkbox-icon {\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 10px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.multiple-option.selected .checkbox-icon {\r\n\t\tbackground-color: #1890ff;\r\n\t\tcolor: white;\r\n\t\tborder-color: #1890ff;\r\n\t}\r\n\r\n\t/* 判断题样式 */\r\n\t.judge-options {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.judge-option {\r\n\t\twidth: 48%;\r\n\t\ttext-align: center;\r\n\t\tpadding: 12px 0;\r\n\t}\r\n\r\n\t/* 简答题样式 */\r\n\t.answer-textarea {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 100px;\r\n\t\tborder: 1px solid #eee;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 15px;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.footer {\r\n\t\theight: 60px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 20px;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.nav-btn {\r\n\t\tpadding: 10px 20px;\r\n\t\tbackground-color: #1890ff;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 20px;\r\n\t}\r\n\r\n\t.nav-btn.disabled {\r\n\t\tbackground-color: #ccc;\r\n\t\topacity: 0.6;\r\n\t}\r\n\r\n\t/* 目录侧边栏样式 */\r\n\t.menu-mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.menu-sidebar {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tright: -300px;\r\n\t\twidth: 300px;\r\n\t\theight: 100vh;\r\n\t\tbackground-color: white;\r\n\t\tz-index: 999;\r\n\t\ttransition: transform 0.3s ease;\r\n\t}\r\n\r\n\t.menu-sidebar.show {\r\n\t\ttransform: translateX(-300px);\r\n\t}\r\n\r\n\t.menu-title {\r\n\t\tpadding: 20px;\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: bold;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\r\n\t.menu-content {\r\n\t\theight: calc(100vh - 61px);\r\n\t\tpadding: 15px;\r\n\t}\r\n\r\n\t.menu-item {\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\ttext-align: center;\r\n\t\tmargin: 10px;\r\n\t\tdisplay: inline-block;\r\n\t\tborder: 1px solid #eee;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.menu-item.answered {\r\n\t\tbackground-color: #e6f7ff;\r\n\t\tcolor: #1890ff;\r\n\t\tborder-color: #1890ff;\r\n\t}\r\n\r\n\t.nav-btn.submit {\r\n\t\tpadding: 10px 20px;\r\n\t\tbackground-color: #ff0000;\r\n\t\t/* 绿色表示确认操作 */\r\n\t\tcolor: white;\r\n\t\tborder-radius: 20px;\r\n\t}\r\n</style>","import mod from \"-!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam.vue?vue&type=style&index=0&id=68564066&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./exam.vue?vue&type=style&index=0&id=68564066&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743079462127\n      var cssReload = require(\"D:/HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}